
/* Drop Tables */

DROP TABLE PRODUCT;
DROP TABLE CATEGORY;
DROP TABLE USERS;



/* Sequences */
DROP SEQUENCE SEQ_CATEGORY_ID;
DROP SEQUENCE SEQ_PRODUCT_ID;
DROP SEQUENCE SEQ_USERS_ID;

CREATE SEQUENCE SEQ_CATEGORY_ID INCREMENT BY 1 START WITH 10000;
CREATE SEQUENCE SEQ_PRODUCT_ID INCREMENT BY 1 START WITH 10000;
CREATE SEQUENCE SEQ_USERS_ID INCREMENT BY 1 START WITH 10000;



/* Create Tables */

CREATE TABLE CATEGORY
(
	ID integer generated by default as identity,
	NAME VARCHAR(128),
	INSERT_TIMESTAMP DATE DEFAULT CURRENT DATE,
	UPDATE_TIMESTAMP DATE,
	VERSION NUMERIC(10,0) DEFAULT 1,
	DELETE_FLAG NUMERIC(1,0) DEFAULT 0,
	PRIMARY KEY (ID)
);

CREATE TABLE PRODUCT
(
	ID integer generated by default as identity,
	CATEGORY_ID integer(10,0) NOT NULL,
	NAME VARCHAR(128),
	WEIGHT NUMERIC(10,2) DEFAULT 0,
	INSERT_TIMESTAMP DATE DEFAULT CURRENT DATE,
	UPDATE_TIMESTAMP DATE,
	VERSION NUMERIC(10,0) DEFAULT 1,
	DELETE_FLAG NUMERIC(1,0) DEFAULT 0,
	PRIMARY KEY (ID)
);



CREATE TABLE USERS
(
	ID integer generated by default as identity,
	NAME VARCHAR(128) NOT NULL,
	PASSWORD VARCHAR(128),
	INSERT_TIMESTAMP DATE DEFAULT CURRENT DATE,
	UPDATE_TIMESTAMP DATE,
	VERSION NUMERIC(10,0) DEFAULT 1,
	DELETE_FLAG NUMERIC(1,0) DEFAULT 0,
	PRIMARY KEY (ID),
	UNIQUE(NAME, PASSWORD)
);



/* Create Foreign Keys */

ALTER TABLE PRODUCT
	ADD FOREIGN KEY (CATEGORY_ID)
	REFERENCES CATEGORY (ID)
;



